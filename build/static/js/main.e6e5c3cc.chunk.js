(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{222:function(t,e,n){t.exports=n(545)},227:function(t,e,n){},228:function(t,e,n){},545:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(13),o=n.n(i),r=(n(227),n(228),n(15)),l=n(16),c=n(20),u=n(17),p=n(21),d=n(5),g=n(23),m=n(8),f=new(function(){function t(){var e=this;Object(r.a)(this,t),this.tabAdress=function(t){return e.tabsAdress+"/"+t},this.plotAdress=function(t){return e.plotsAdress+"/"+t},this._requestToApi=function(t,n,a){fetch(e.apiAdress+t,Object(m.a)({headers:{Accept:"application/json","Content-Type":"application/json"}},n)).then((function(t){return t.json()})).then((function(t){t.statusCode>=400?alert(t.error):(t.plot&&(t=Object(m.a)({},t,{plot:Object(m.a)({},t.plot,{figure:JSON.parse(t.plot.figure)})})),a(t))})).catch((function(t){console.log(t)}))},this._get=function(t,n){var a=n.request,s=n.responseHandler;e._requestToApi(t,Object(m.a)({},a,{method:"GET"}),s)},this._post=function(t,n){var a=n.request,s=n.responseHandler;e._requestToApi(t,Object(m.a)({},a,{method:"POST"}),s)},this._put=function(t,n){var a=n.request,s=n.responseHandler;e._requestToApi(t,Object(m.a)({},a,{method:"PUT"}),s)},this._delete=function(t,n){var a=n.request,s=n.responseHandler;e._requestToApi(t,Object(m.a)({},a,{method:"DELETE"}),s)},this._updateSettings=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e._post(t,{request:{body:JSON.stringify({settings:n,action:"updateSettings"})},responseHandler:a})},this._undoSettings=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._post(t,{request:{body:JSON.stringify({action:"undoSettings"})},responseHandler:n})},this._save=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e._post(t,{request:{body:JSON.stringify(Object(m.a)({action:"save"},n))},responseHandler:a})},this._load=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e._post(t,{request:{body:JSON.stringify(Object(m.a)({action:"load"},n))},responseHandler:a})},this.getSessionSettings=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e._get(e.sessionAdress,{responseHandler:function(e){return t(e.session)}})},this.updateSessionSettings=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e._updateSettings(e.sessionAdress,n,(function(t){return a(t.session)}))},this.undoSessionSettings=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._undoSettings(e.sessionAdress,(function(t){return n(t.session)}))},this.saveSession=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._save(e.sessionAdress,t,(function(e){return n(e.session,t)}))},this.loadSession=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._load(e.sessionAdress,t,(function(e){return n(e.session,t)}))},this.getAvailableStructs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e._get(e.structsAdress,{responseHandler:function(e){return t(e.structures)}})},this.getSessionTabs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e._get(e.tabsAdress,{responseHandler:function(e){return t(e.tabs)}})},this.addNewTab=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e._get(e.newtabAdress,{responseHandler:function(e){return t(e.tabs)}})},this.removeTab=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._delete(e.tabAdress(t),{responseHandler:function(t){return n(t.tabs)}})},this.updateTabParams=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e._put(e.tabAdress(t),{request:{body:JSON.stringify(n)},responseHandler:function(t){return a(t.tabs)}})},this.getPlotOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e._get(e.plotTypesAdress,{responseHandler:function(e){return t(e.plotOptions)}})},this.getPlot=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._get(e.plotAdress(t),{responseHandler:function(t){return n(t.plot)}})},this.getNewPlot=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._post(e.plotsAdress,{request:{body:JSON.stringify(t)},responseHandler:function(e){return n(e.plot,t)}})},this.updatePlotSettings=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e._updateSettings(e.plotAdress(t),n,(function(t){return a(t.plot)}))},this.undoPlotSettings=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._undoSettings(e.plotAdress(t),(function(t){return n(t.plot)}))},this.removePlot=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._delete(e.plotAdress(t.plotID),{responseHandler:function(e){return n(e.session,t)}})},this.showPlotFullScreen=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e._post(e.plotAdress(t),{request:{body:JSON.stringify({action:"fullScreen"})},responseHandler:function(t){return n(t.plot)}})},this.askForUpdates=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t,e){document.dispatchEvent(new CustomEvent("sessionUpdate",{detail:{session:t,justUpdated:e}}))};e._post(e.sessionAdress,{request:{body:JSON.stringify({action:"updatePlots"})},responseHandler:function(e){return t(e.session,e.justUpdated)}})},this.listenForPlotUpdates=function(t){e.stopListeningPlotUpdates();e.listenerID=setTimeout((function n(){e.askForUpdates(),clearTimeout(e.listenerID),e.listenerID=setTimeout(n,t)}),t)},this.stopListeningPlotUpdates=function(){e.listenerID&&clearTimeout(e.listenerID),e.listenerID=void 0},this.apiAdress="http://localhost:4000",this.listenerID=void 0}return Object(l.a)(t,[{key:"sessionAdress",get:function(){return"/sislGUI/session"}},{key:"tabsAdress",get:function(){return"/sislGUI/tab"}},{key:"newtabAdress",get:function(){return this.tabsAdress+"/new"}},{key:"plotsAdress",get:function(){return"/sislGUI/plot"}},{key:"plotTypesAdress",get:function(){return"/sislGUI/plotTypes"}},{key:"structsAdress",get:function(){return"/sislGUI/structs"}}]),t}()),h=function(t){return t.settings.listenForUpdates?f.listenForPlotUpdates(t.settings.updateInterval):f.stopListeningPlotUpdates(),{type:"SET_SESSION",session:t}},v=function(t,e){return{type:"ADD_PLOTS",newPlots:t,tabsIDs:e}},b=function(t){return{type:"SET_STRUCTURES",newStructures:t}},y=function(t){return{type:"SET_SESSION_TABS",tabs:t}},S=function(t){return{type:"SET_ACTIVE_PLOT",activePlot:t}},E=function(t){return{type:"SET_ACTIVE_TAB",activeTab:t}},O=function(t){return{type:"SET_ACTIVE_STRUCTS",structs:t}},j=function(t){return{type:"START_LOADING_PLOT",plot:t}},T=function(t){return{type:"END_LOADING_PLOT",plotID:t}},C=function(t){function e(){return Object(r.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement(d.Navbar,{brand:s.a.createElement("a",null),alignLinks:"right",className:"transparent z-depth-0"},s.a.createElement(d.NavItem,{className:"blackText",href:"/plots"},"Plots"),s.a.createElement(d.NavItem,{href:"/settings"},s.a.createElement(d.Icon,null,"settings")),s.a.createElement(d.NavItem,{href:"/settings"},s.a.createElement(d.Icon,null,"help")))}}]),e}(a.Component),P=Object(g.b)(null,(function(t){return{clearSession:function(){return t({type:"CLEAR_SESSION"})}}}))(C),w=n(546),k=n(48),I=Object(k.a)(),A=n(221);function N(t){var e=t.component,n=t.isPrivate,a=Object(A.a)(t,["component","isPrivate"]);return n?s.a.createElement(w.a,{to:"/"}):s.a.createElement(w.b,Object.assign({},a,{component:e}))}N.defaultProps={isPrivate:!1};var _=n(46),x=n(22),D=n(12),L=n.n(D),R=n(51),B=n.n(R),U=n(72),V=n(211),G=n.n(V),H=n(212),F=n(213),z=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).removePlot=function(){f.removePlot({plotID:n.props.plot.id,tabID:n.props.active.tab},(function(t,e){n.props.setSessionTabs(t.tabs),n.props.removePlot(e.plotID)}))},n.setPlotAsActive=function(){n.props.setActivePlot(n.props.plot)},n.showPlotFullScreen=function(){f.showPlotFullScreen(n.props.plot.id)},n.state={isLoading:!1},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;if(this.state.isLoading||!this.props.plot)return s.a.createElement(d.Card,{className:"plotcard",style:{borderRadius:15}},s.a.createElement(d.Row,{style:{textAlign:"center"}},s.a.createElement(H.CircleLoader,{color:"#36D7B7"})),s.a.createElement("div",null,"We are working hard to load your plot."));var e=this.props.plot.figure.layout,n=this.props.plot.settings.paper_bgcolor||"white";if(this.props.active.plot&&this.props.active.plot.id==this.props.plot.id){n=this.props.active.plot.settings.paper_bgcolor||"white";var a=L.a.groupBy(this.props.active.plot.params,"group").layout.reduce((function(e,n){return e[n.key]=t.props.active.plot.settings[n.key],e}),{}),i=Object(F.unflatten)(a,{delimiter:"_"});e=Object(m.a)({},e,{},a,{xaxis:Object(m.a)({},e.xaxis,{},i.xaxis),yaxis:Object(m.a)({},e.yaxis,{},i.yaxis)})}var o=Object(U.d)((function(){return s.a.createElement("div",{style:{cursor:"pointer"}},s.a.createElement(d.Icon,{className:"small grey-text"},"drag_handle"))})),r=this.props.sortable?s.a.createElement("div",{"data-tip":"Drag the plot to change its position",style:{justifyContent:"center",alignItems:"center",textAlign:"center",paddingTop:"20px",background:n}},s.a.createElement(o,null)):null;return s.a.createElement(d.Card,{className:"plotcard",style:{borderRadius:15,overflow:"hidden"}},s.a.createElement("div",{style:Object(m.a)({display:"flex",flexDirection:"column"},this.props.style)},r,s.a.createElement("div",{style:{flex:1,padding:"10px 10px 0 10px",background:n}},s.a.createElement(G.a,{useResizeHandler:!0,style:Object(m.a)({width:"auto",height:"100%"},this.props.plotStyle),data:this.props.plot.figure.data,layout:e,frames:this.props.plot.figure.frames,onClick:function(t){return console.log(t)},onUpdate:function(t){return console.warn(t)}})),s.a.createElement("div",{style:{display:"flex"},className:"card-action"},s.a.createElement("div",{style:{flex:1,textAlign:"left"}},s.a.createElement("a",{"data-tip":"Full screen",href:"#",onClick:this.showPlotFullScreen},s.a.createElement(d.Icon,null,"fullscreen"))),s.a.createElement("div",null,s.a.createElement("a",{"data-tip":"Edit",href:"/plotTweaking",onClick:this.setPlotAsActive},s.a.createElement(d.Icon,null,"edit")),s.a.createElement("a",{"data-tip":"Export data",href:"#"},s.a.createElement(d.Icon,null,"file_download")),s.a.createElement("a",{"data-tip":"Remove",href:"#",className:"red-text",onClick:this.removePlot},s.a.createElement(d.Icon,{className:"removePlot"},"delete"))))),s.a.createElement(B.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips}))}}]),e}(a.Component),q=Object(g.b)((function(t){return{active:t.active,session:t.session}}),(function(t){return{setSessionTabs:function(e){return t(y(e))},setActivePlot:function(e){return t(S(e))},removePlot:function(e,n){return t(function(t,e){return{type:"REMOVE_PLOT",plotID:t,tabID:e}}(e,n))}}}))(z),W=Object(U.b)((function(t){var e=t.plot;return s.a.createElement(d.Col,{s:12,m:6,l:4},s.a.createElement(q,{plot:e,sortable:!0,plotStyle:{height:"65vh"}}))})),J=Object(U.a)((function(t){var e=t.plots;return s.a.createElement(d.Row,null,e.map((function(t,e){return s.a.createElement(W,{key:e,index:e,plot:t})})))})),X=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).onSortEnd=function(t){var e=t.oldIndex,a=t.newIndex;n.props.setTabPlots(n.props.active.tab,Object(U.c)(L.a.find(n.props.tabs,["id",n.props.active.tab]).plots,e,a))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;if(!this.props.active.tab)return null;var e=L.a.find(this.props.tabs,["id",this.props.active.tab]);if(!e)return null;var n=e.plots.map((function(e){return t.props.plots[e]}));return s.a.createElement("div",null,s.a.createElement(J,{axis:"xy",useDragHandle:!0,transitionDuration:0,plots:n,onSortEnd:this.onSortEnd}))}}]),e}(a.Component),M=Object(g.b)((function(t){return{plots:t.plots,structures:t.structures,tabs:t.tabs,active:t.active}}),(function(t){return{setTabPlots:function(e,n){return t(function(t,e){return{type:"SET_TAB_PLOTS",tabID:t,plots:e}}(e,n))}}}))(X),Q=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"structTag "+(this.props.struct.selected?"active":""),onClick:this.props.toggleStruct},this.props.struct.name.replace(".fdf",""))}}]),e}(a.Component);var K=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).togglePlotInitializer=function(t){var e=t.forceShow,n=t.forceHide;document.dispatchEvent(new CustomEvent("togglePlotInitializer",{detail:{forceShow:e,forceHide:n}}))},n.selectStructs=function(t){n.props.setActiveStructs(t),0!=t.length?n.togglePlotInitializer({forceShow:!0}):n.togglePlotInitializer({forceHide:!0})},n.toggleStruct=function(t){var e=t.id;n.selectStructs(L.a.xor(n.selectedStructs,[e]))},n.toggleAlphabeticSorting=function(){var t,e=(t={},Object(x.a)(t,!1,"asc"),Object(x.a)(t,"asc","desc"),Object(x.a)(t,"desc",!1),t);n.setState({alphabeticSorting:e[n.state.alphabeticSorting]})},n.toggleSelectedSorting=function(){n.setState({selectedSorting:!n.state.selectedSorting})},n.toggleAll=function(){var t=Object.keys(n.filterStructs()),e=0==L.a.intersection(n.selectedStructs,t).length;n.selectStructs(e?[].concat(Object(_.a)(t),Object(_.a)(n.selectedStructs)):n.selectedStructs.filter((function(e){return!t.includes(e)})))},n.filterStructs=function(t){return t=(t=t||n.state.searchString).includes("*")||t.includes("?")?t:"*"+t+"*",Object.keys(n.props.structures).reduce((function(e,a){var s,i,o=n.props.structures[a];return s=t,i=o.name.replace(".fdf",""),new RegExp("^".concat(s.replace(/\*/g,".*").replace(/\?/g,"."),"$"),"i").test(i)&&(e[a]=Object(m.a)({},o,{selected:n.selectedStructs.includes(a),id:a})),e}),{})},n.newSearchString=function(t){n.setState({searchString:t})},n.state={searchString:"",alphabeticSorting:!1,selectedSorting:!1,displayedStructures:t.structures},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.filterStructs();return this.state.alphabeticSorting&&(e=L.a.orderBy(e,"name",this.state.alphabeticSorting)),this.state.selectedSorting&&(e=L.a.orderBy(e,"selected","desc")),s.a.createElement("div",null,s.a.createElement("input",{value:this.state.searchString,onChange:function(e){return t.newSearchString(e.target.value)}}),s.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5}},s.a.createElement("span",{className:"structPickerToggle "+(this.state.alphabeticSorting?"active":""),onClick:this.toggleAlphabeticSorting,style:{cursor:"pointer"}},"A-Z"),s.a.createElement("span",{className:"structPickerToggle "+(this.state.selectedSorting?"active":""),onClick:this.toggleSelectedSorting,style:{cursor:"pointer"}},"sel"),s.a.createElement("span",{className:"structPickerToggle",onClick:this.toggleAll,style:{cursor:"pointer"}},"All")),s.a.createElement("div",{className:"scrollView",style:{height:"90vh"}},Object.values(e).map((function(e){return s.a.createElement(Q,{id:e.id,struct:e,toggleStruct:function(){return t.toggleStruct(e)}})}))))}},{key:"selectedStructs",get:function(){return this.props.activeStructs||[]}}]),e}(a.Component),$={setActiveStructs:O},Y=Object(g.b)((function(t){return{activeStructs:t.active.structs}}),$)(K),Z=n(214),tt=n(58),et=n(45),nt=n(109),at={},st=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_SESSION":console.log("REDUX: Setting current session...");var n=e.session;return console.log(n),n;case"CHANGE_SESSION_SETTINGS":console.log("REDUX: Changing current session settings (not submitting yet)...");n=Object(m.a)({},t,{settings:Object(m.a)({},t.settings,Object(x.a)({},e.settingKey,e.value))});return console.log(n),n;case"CLEAR_SESSION":return at;default:return t}},it={},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_PLOTS":console.log("REDUX: Storing a new plot...");var n=Object(m.a)({},t,{},e.newPlots);return console.log(n),n;case"REMOVE_PLOT":return L.a.omit(t,[e.plotID]);case"CLEAR_SESSION":return it;default:return t}},rt={},lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_STRUCTURES":console.log("REDUX: Setting the new structures...");var n=Object(m.a)({},e.newStructures);return console.log(n),n;default:return t}},ct=[],ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_SESSION_TABS":console.log("REDUX: Setting session tabs...");var n=e.tabs;return console.log(n),n;case"CLEAR_SESSION":return ct;default:return t}},pt={plot:void 0,tab:void 0,structs:[]},dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_ACTIVE_PLOT":console.log("REDUX: Setting active plot...");var n=Object(m.a)({},t,{plot:e.activePlot});return console.log(n),n;case"CHANGE_PLOT_SETTINGS":console.log("REDUX: Changing plot settings (not submitting yet)...");n=Object(m.a)({},t,{plot:Object(m.a)({},t.plot,{settings:Object(m.a)({},t.plot.settings,Object(x.a)({},e.settingKey,e.value))})});return console.log(n),n;case"SET_ACTIVE_TAB":console.log("REDUX: Setting active tab...");n=Object(m.a)({},t,{tab:e.activeTab});return console.log(n),n;case"SET_ACTIVE_STRUCTS":return n=Object(m.a)({},t,{structs:e.structs});case"CLEAR_SESSION":return pt;default:return t}},gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{plots:{}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"START_LOADING_PLOT":console.log("REDUX: Setting active plot...");var n=Object(m.a)({},t,{plots:Object(m.a)({},t.plots,Object(x.a)({},e.plot.id,Object(m.a)({},e.plot,{from:new Date})))});return console.log(n),n;case"END_LOADING_PLOT":console.log("REDUX: Changing plot settings (not submitting yet)...");n=Object(m.a)({},t,{plots:L.a.omit(t.plots,[e.plotID])});return console.log(n),n;default:return t}},mt=n(215),ft=n.n(mt),ht=n(108);function vt(t,e,n){return Object(ht.a)({key:t,storage:ft.a,whitelist:e},n)}var bt=Object(et.b)({session:st,plots:ot,structures:lt,tabs:ut,loading:vt("loading",["plots"],gt),active:vt("active",["tab","plot"],dt),browser:Object(nt.a)({small:600,medium:992})}),yt=function(t){return t.active.structs.map((function(e){return t.structures[e]}))},St=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).toggleVisibility=function(t){var e;e=void 0!=t&void 0!=t.detail?!!t.detail.forceShow||!t.detail.forceHide&&!n.state.visible:!n.state.visible,n.setState({visible:e})},n.updateInitializingOptions=function(t,e){n.setState(Object(x.a)({},t,e))},n.getNewPlot=function(){n.setState({isLoading:!0}),n.selectedStructs.forEach((function(t){(n.state.plotClass.length?n.state.plotClass:[n.state.plotClass]).forEach((function(e){var a=Object(Z.v4)();n.props.informLoadingPlot({id:a,struct:t,plotClass:e}),f.getNewPlot(Object(m.a)({tabID:n.props.active.tab,struct:t.id},n.state,{plotClass:e}),(function(t,e){n.props.addPlots(Object(x.a)({},t.id,t)),n.props.setActiveTab(e.tabID),n.setState({isLoading:!1,visible:!1}),n.props.informLoadedPlot(a),document.dispatchEvent(new Event("newPlot"))}))}))})),n.props.setActiveStructs([])},n.state={tabID:t.active.tab,animation:!1,plotClass:void 0,plotOptions:[],visible:!1},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.listener=document.addEventListener("togglePlotInitializer",this.toggleVisibility),f.getPlotOptions((function(e){return t.setState({plotOptions:e})}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("togglePlotInitializer",this.toggleVisibility)}},{key:"render",value:function(){var t=this;if(0==this.props.tabs.length)return null;var e=this.state.isLoading?s.a.createElement(d.Row,null,"We are getting your shiny new plot... wait a moment please :)"):null;return s.a.createElement("div",{className:"plotInitializer"+(this.state.visible?"":" hidden")},s.a.createElement(d.Card,{style:{marginLeft:20,marginRight:20,background:"#5588ff"},actions:s.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},s.a.createElement("a",{className:"btn-flat black-text initPlotBtn",onClick:this.toggleVisibility},"Dismiss",s.a.createElement(d.Icon,{right:!0},"close")),s.a.createElement("a",{className:"btn-flat black-text initPlotBtn",onClick:this.getNewPlot},"Initialize plot",s.a.createElement(d.Icon,{right:!0},"done")),s.a.createElement("a",{className:"btn-flat black-text initPlotBtn"},s.a.createElement(d.Icon,null,"refresh")))},s.a.createElement(d.Row,null,s.a.createElement(d.Col,{s:12,m:12,l:6},s.a.createElement(d.Row,null,"Structures"),s.a.createElement("div",null," ",this.selectedStructs.map((function(t){return s.a.createElement("div",null,t.name)}))," ")),s.a.createElement(d.Col,{s:12,m:6,l:3},s.a.createElement(d.Row,null,"Plot type"),s.a.createElement(tt.a,{options:this.state.plotOptions,placeholder:"Choose the plot type...",isClearable:!0,isSearchable:!0,isMulti:!0,onChange:function(e){return t.updateInitializingOptions("plotClass",e?e.value||e.map((function(t){return t.value})):void 0)}})),s.a.createElement(d.Col,{s:12,m:6,l:2},s.a.createElement(d.Row,null,"Tab"),s.a.createElement(tt.a,{placeholder:"Choose a tab...",options:this.props.tabs.map((function(t){return{label:t.name,value:t.id}})),defaultValue:this.props.active.tab&&L.a.find(this.props.tabs,["id",this.props.active.tab])?{label:L.a.find(this.props.tabs,["id",this.props.active.tab]).name,value:this.props.active.tab}:null,isClearable:!0,isSearchable:!0,onChange:function(e){return t.updateInitializingOptions("tabID",e?e.value:void 0)}})),s.a.createElement(d.Col,{s:12,m:6,l:1},s.a.createElement(d.Row,null,"Animation"),s.a.createElement(d.Switch,{id:"isAnimation",checked:this.state.animation,onChange:function(e){return t.updateInitializingOptions("animation",e.target.checked)}}))),e))}},{key:"selectedStructs",get:function(){return this.props.activeStructs||[]}}]),e}(a.Component),Et={setActiveTab:E,addPlots:v,setActiveStructs:O,informLoadingPlot:j,informLoadedPlot:T},Ot=Object(g.b)((function(t){return{activeStructs:yt(t),tabs:t.tabs,active:t.active}}),Et)(St),jt=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).syncWithSession=function(t){n.updateTabs(),f.getPlotOptions((function(t){return n.setState({plotOptions:t})})),f.getAvailableStructs((function(t){return n.props.setNewStructures(t)})),t?n.props.setCurrentSession(t):f.getSessionSettings((function(t){return n.props.setCurrentSession(t)}))},n.updateTabs=function(t){t?n.props.setSessionTabs(t):f.getSessionTabs((function(t){n.props.setSessionTabs(t),L.a.find(t,["id",n.props.active.tab])||n.props.setActiveTab(t.length>0?t[0].id:void 0)}))},n.newTab=function(){f.addNewTab((function(t){n.updateTabs(t),n.props.setActiveTab(L.a.last(t).id)}))},n.removeTab=function(t){var e=L.a.findIndex(n.props.tabs,["id",t]);f.removeTab(t,(function(t){n.props.setActiveTab(t.length>0?t[Math.min(t.length-1,e)].id:void 0),n.updateTabs(t)}))},n.updateTabParams=function(t,e){f.updateTabParams(t,e,(function(t){n.updateTabs(t)}))},n.updateTabName=function(t){t.target.blur(),n.updateTabParams(t.target.id,{name:t.target.textContent})},n.getNewPlot=function(){n.setState({isLoading:!0}),f.getNewPlot(Object(m.a)({tabID:n.props.active.tab},n.state.plotToInitialize),(function(t,e){n.updateTabs(),n.props.addPlots(Object(x.a)({},t.id,t)),n.togglePlotInitializer(),n.props.setActiveTab(e.tabID),n.setState({isLoading:!1})}))},n.saveCurrentSession=function(){var t=prompt("Please provide the path to save the session.\n\nRoot directory:\n"+n.props.session.settings.rootDir);t&&(f.saveSession({path:t}),alert("Session saved"))},n.loadSession=function(){var t=prompt("Please provide the path of the saved session.\n\nRoot directory:\n"+n.props.session.settings.rootDir);t&&f.loadSession({path:t},(function(t){console.log("Session loaded",t),n.syncWithSession(t)}))},n.togglePlotInitializer=function(){document.dispatchEvent(new Event("togglePlotInitializer"))},n.updateInitializingOptions=function(t,e){n.setState({plotToInitialize:Object(m.a)({},n.state.plotToInitialize,Object(x.a)({},t,e))})},n.renderNewPlotButton=function(t){var e=t?null:s.a.createElement(d.Button,{"data-tip":"New plot",floating:!0,onClick:n.togglePlotInitializer,icon:s.a.createElement(d.Icon,null,"add"),className:"green"});return s.a.createElement(d.Button,{floating:!0,icon:s.a.createElement(d.Icon,null,"menu"),fab:{direction:"left",hoverEnabled:!1},className:0!=Object.keys(n.props.plots).length||n.state.displayPlotInitializer?"red":"red pulse",large:!0},s.a.createElement(B.a,{multiline:!0,disable:!!n.props.session.settings&&!n.props.session.settings.showTooltips}),e,s.a.createElement(d.Button,{"data-tip":"Save session",floating:!0,icon:s.a.createElement(d.Icon,null,"save"),onClick:n.saveCurrentSession,className:"yellow darken-1"}),s.a.createElement(d.Button,{"data-tip":"Load session",floating:!0,icon:s.a.createElement(d.Icon,null,"open_in_new"),onClick:n.loadSession,className:"green"}),s.a.createElement(d.Button,{floating:!0,icon:s.a.createElement(d.Icon,null),className:"blue"}))},n.state={displayPlotInitializer:!1,plotToInitialize:{struct:!1,animation:!1},loadingPlots:[],plotOptions:[]},n.syncWithSession(),document.addEventListener("newPlot",(function(){return n.updateTabs()})),document.addEventListener("sessionUpdate",(function(t){t.detail.justUpdated.forEach((function(t){console.log(t),n.setState({loadingPlots:[].concat(Object(_.a)(n.state.loadingPlots),[t])}),f.getPlot(t,(function(e){n.props.addPlots(Object(x.a)({},e.id,e)),n.setState({loadingPlots:n.state.loadingPlots.filter((function(e){return e!=t}))})}))}))})),n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.setActivePlot(void 0)}},{key:"componentDidUpdate",value:function(){var t=this,e=L.a.find(this.props.tabs,["id",this.props.active.tab]);e&&e.plots.forEach((function(e){t.props.plots[e]||-1!=t.state.loadingPlots.indexOf(e)||(t.setState({loadingPlots:[].concat(Object(_.a)(t.state.loadingPlots),[e])}),f.getPlot(e,(function(n){t.props.addPlots(Object(x.a)({},n.id,n)),t.setState({loadingPlots:t.state.loadingPlots.filter((function(t){return t!=e}))})})))}))}},{key:"render",value:function(){var t=this,e=this.props.tabs.map((function(e){var n=e.id,a=e.name,i=n==t.props.active.tab;return s.a.createElement("div",{key:n,className:i?"active plotTab":"plotTab",onClick:i?null:function(){return t.props.setActiveTab(n)}},s.a.createElement("div",{id:n,contentEditable:i,onBlur:t.updateTabName,onKeyUp:function(e){13===e.keyCode&&t.updateTabName(e)}},a),i?s.a.createElement("div",{className:"removeTabBut",onClick:function(){return t.removeTab(n)}},s.a.createElement(d.Icon,null,"remove_circle")):null)}));return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12 m12 l1"},s.a.createElement(Y,{structures:this.props.structures})),s.a.createElement("div",{className:"col s12 l11"},s.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center"}},s.a.createElement("div",{onClick:this.newTab,"data-tip":"New tab"},s.a.createElement(d.Icon,{className:"newTabIcon small blue-text text-darken-3",style:{paddingRight:0}},"create_new_folder")),e),s.a.createElement(Ot,null),s.a.createElement(M,null)),s.a.createElement(d.Row,null,this.renderNewPlotButton(this.state.displayPlotInitializer)),s.a.createElement(B.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips}))}}]),e}(a.Component),Tt=Object(g.b)((function(t){return{plots:t.plots,structures:t.structures,tabs:t.tabs,active:t.active,session:t.session}}),(function(t){return{setCurrentSession:function(e){return t(h(e))},setActiveTab:function(e){return t(E(e))},setSessionTabs:function(e){return t(y(e))},setActivePlot:function(e){return t(S(e))},addPlots:function(e,n){return t(v(e,n))},addTabs:function(e){return t(function(t){return{type:"ADD_TABS",newTabs:t}}(e))},setNewStructures:function(e){return t(b(e))}}}))(jt),Ct=n(106),Pt=n(107),wt=(n(206),function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).toggleColorPicker=function(t){n.setState({displayColorPicker:Object(m.a)({},n.state.displayColorPicker,Object(x.a)({},t,!n.state.displayColorPicker[t]))})},n.addQuery=function(){var t=n.props.setting.inputField.queryForm.reduce((function(t,e){return t[e.key]=e.default||null,t}),{});t.active=!0,n.props.changeSettingValue([].concat(Object(_.a)(n.props.value),[t]))},n.changeSettingValue=function(t,e,a){var s=L.a.cloneDeep(n.props.value);s[t]=Object(m.a)({},s[t],Object(x.a)({},e,a)),n.props.changeSettingValue(s)},n.renderInputField=function(t,e,a){var i,o=t.inputField;if(!o)return null;if("textinput"==o.type)i=s.a.createElement(d.TextInput,Object.assign({noLayout:!0,value:e,onChange:function(e){return n.changeSettingValue(a,t.key,e.target.value)},label:t.name},o.params));else if("switch"==o.type)i=s.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},s.a.createElement("div",{style:{paddingBottom:10}},t.name),s.a.createElement(d.Switch,Object.assign({id:a+t.key,checked:e,onChange:function(e){return n.changeSettingValue(a,t.key,e.target.checked)}},o.params)));else if("dropdown"==o.type)i=s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},s.a.createElement("div",{style:{paddingRight:20}},t.name+":"),s.a.createElement(tt.a,Object.assign({className:"querySelect",value:Array.isArray(e)?e.map((function(t){return L.a.find(o.params.options,{value:t})})):L.a.find(o.params.options,{value:e}),onChange:function(e){return n.changeSettingValue(a,t.key,Array.isArray(e)?e.map((function(t){return t.value})):e?e.value:null)}},o.params)));else if("color"==o.type){var r=String(a)+t.key,l=n.state.displayColorPicker&&n.state.displayColorPicker[r]?s.a.createElement("div",{style:{position:"absolute",bottom:60}},s.a.createElement(Ct.ChromePicker,Object.assign({color:e||"#00F0F8FF",onChangeComplete:function(e){return n.changeSettingValue(a,t.key,e.hex)}},o.params))):null;i=s.a.createElement("div",{style:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},s.a.createElement("div",{style:{paddingBottom:10}},t.name),s.a.createElement("div",{className:"z-depth-2",onClick:function(){return n.toggleColorPicker(r)},style:{width:30,height:30,borderRadius:30,background:e}}),l)}else"rangeslider"==o.type?i=s.a.createElement("div",{style:{paddingLeft:"10%",paddingRight:"10%"}},s.a.createElement("div",{style:{paddingBottom:10}},t.name),s.a.createElement(Pt.a,Object.assign({value:e,onChange:function(e){return n.changeSettingValue(a,t.key,e)}},o.params))):"number"==o.type&&(i=s.a.createElement("div",null,s.a.createElement("div",{style:{paddingBottom:10}},t.name),s.a.createElement("input",Object.assign({type:"number",value:e,onChange:function(e){return n.changeSettingValue(a,t.key,Number(e.target.value))}},o.params))));return s.a.createElement("div",{style:Object(m.a)({marginBottom:5,marginTop:5,paddingLeft:10,paddingRight:10,width:n.props.w(o.width)},o.style)},i)},n.renderQuery=function(t,e){return s.a.createElement("div",{key:e,style:{display:"flex",justifyContent:"center",alignItems:"center"}},s.a.createElement(d.Switch,{id:e+"active",checked:t.active,onChange:function(t){return n.changeSettingValue(e,"active",t.target.checked)}}),s.a.createElement(d.Card,{className:"queryCard",style:{flex:1,background:t.active?"#CBFFC0":"#ffc3cd",borderRadius:10}},s.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},n.props.setting.inputField.queryForm.map((function(a){return n.renderInputField(a,t[a.key],e)})))))},n.state={displayColorPicker:{}},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,this.props.value.map((function(e,n){return t.renderQuery(e,n)})),s.a.createElement(d.Button,{"data-tip":"Add a new query",onClick:this.addQuery},"Add Query"))}}]),e}(a.Component)),kt=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).w=function(t){if(t)for(var e=["s","m","l"].map((function(e){return t.indexOf(e)>=0})),a=["small","medium","infinity"].indexOf(n.props.browser.mediaType);a>-1;a--){if(e[a])return L.a.find(t.split(" "),(function(t){return t.indexOf(["s","m","l"][a])>=0})).substr(1)}},n.changeSettingValue=function(t){n.props.changeSettings(n.props.onSettingChangeType,n.props.setting.key,t)},n.toggleColorPicker=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.state={},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t,e=this,n=this.props.setting.inputField;if("textinput"==n.type)t=s.a.createElement(d.TextInput,Object.assign({noLayout:!0,value:this.props.value,onChange:function(t){return e.changeSettingValue(t.target.value)},label:this.props.setting.name},n.params));else if("switch"==n.type)t=s.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},s.a.createElement("div",{style:{paddingBottom:10}},this.props.setting.name),s.a.createElement(d.Switch,Object.assign({id:this.props.setting.key,checked:this.props.value,onChange:function(t){return e.changeSettingValue(t.target.checked)}},n.params)));else if("dropdown"==n.type)t=s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},s.a.createElement("div",{style:{paddingRight:20}},this.props.setting.name+":"),s.a.createElement(tt.a,Object.assign({value:Array.isArray(this.props.value)?this.props.value.map((function(t){return L.a.find(n.params.options,{value:t})})):L.a.find(n.params.options,{value:this.props.value}),onChange:function(t){return e.changeSettingValue(Array.isArray(t)?t.map((function(t){return t.value})):t?t.value:null)}},n.params)));else if("color"==n.type){var a=this.state.displayColorPicker?s.a.createElement("div",{style:{position:"absolute",bottom:60}},s.a.createElement(Ct.ChromePicker,Object.assign({color:this.props.value,onChangeComplete:function(t){return e.changeSettingValue(t.hex)}},n.params))):null;t=s.a.createElement("div",{style:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},s.a.createElement("div",{style:{paddingBottom:10}},this.props.setting.name),s.a.createElement("div",{className:"z-depth-2",onClick:this.toggleColorPicker,style:{width:30,height:30,borderRadius:30,background:this.props.value}}),a)}else"rangeslider"==n.type?t=s.a.createElement("div",{style:{paddingLeft:"10%",paddingRight:"10%"}},s.a.createElement("div",{style:{paddingBottom:10}},this.props.setting.name),s.a.createElement(Pt.a,Object.assign({value:this.props.value,onChange:function(t){return e.changeSettingValue(t)}},n.params))):"number"==n.type?t=s.a.createElement("div",null,s.a.createElement("div",{style:{paddingBottom:10}},this.props.setting.name),s.a.createElement("input",Object.assign({type:"number",value:this.props.value,onChange:function(t){return e.changeSettingValue(Number(t.target.value))}},n.params))):"queries"==n.type&&(t=s.a.createElement("div",null,s.a.createElement("div",{style:{paddingBottom:10}},this.props.setting.name),s.a.createElement(wt,{changeSettingValue:this.changeSettingValue,setting:this.props.setting,value:this.props.value,w:this.w})));var i={"data-tip":(this.props.setting.help?this.props.setting.help+"<br>":"")+"Default: "+(this.props.setting.default||"None"),"data-multiline":!0,"data-effect":"solid","data-place":"color"==n.type?"bottom":"top"};return s.a.createElement("div",Object.assign({style:Object(m.a)({marginTop:20,marginBottom:20,width:this.w(n.width)},n.style)},i),t)}}]),e}(a.Component),It=Object(g.b)((function(t){return{browser:t.browser}}),(function(t){return{changeSettings:function(e,n,a){return t(function(t,e,n){return{type:t,settingKey:e,value:n}}(e,n,a))}}}))(kt),At=n(219),Nt=n.n(At),_t=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).renderSettingsGroup=function(t){return t.map((function(t){return t.inputField?s.a.createElement(It,{key:t.key,setting:t,value:n.props.settings[t.key],onSettingChangeType:n.props.onSettingChangeType}):null}))},n.renderSettingsGroups=function(t){return n.props.paramGroups.map((function(e){var a=e.key?e.key:"null",i=t[a];if(!i)return null;var o=L.a.groupBy(i,"subGroup"),r=(e.subGroups?[{key:"null",name:null}].concat(Object(_.a)(e.subGroups)):[{key:"null",name:null}]).map((function(t){var e=t.key,a=t.name;return o[e]?s.a.createElement("div",{key:e},s.a.createElement("div",{style:{paddingBottom:20,fontWeight:"bold",fontSize:"1.3em",textAlign:"left"}},a),s.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"center"}},n.renderSettingsGroup(o[e]))):null}));return s.a.createElement(d.CollapsibleItem,{key:a,header:e.name,icon:s.a.createElement(d.Icon,null,e.icon)},s.a.createElement("blockquote",{style:{textAlign:"left"}},Nt()(e.description)),r,s.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},s.a.createElement(d.Button,{onClick:n.props.undoSettings,"data-tip":"This will roll back to previous settings.<br> IT AFFECTS ALL GROUPS OF PARAMETERS, not only this one.",className:"orange",style:{margin:20}},s.a.createElement(d.Icon,{left:!0},"arrow_back_ios"),"Previous settings"),s.a.createElement(d.Button,{"data-tip":"This will restore all settings to the plot's defaults",className:"red",style:{margin:20}},s.a.createElement(d.Icon,{left:!0},"refresh"),"Restore defaults"),s.a.createElement(d.Button,{"data-tip":"This will change the settings and will update everything accordingly.<br> IT ONLY AFFECTS THIS GROUP OF SETTINGS, not all settings",onClick:function(){return n.props.submitSettings(i.reduce((function(t,e){return t[e.key]=n.props.settings[e.key],t}),{}))},className:"blue",style:{margin:20}},"Submit settings",s.a.createElement(d.Icon,{right:!0},"arrow_forward_ios"))))}))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=L.a.groupBy(this.props.params,"group");return s.a.createElement(d.Collapsible,{popout:!0},this.renderSettingsGroups(t))}}]),e}(a.Component),xt=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).submitSettings=function(t){f.updateSessionSettings(n.props.session.id,t,(function(t){n.props.setCurrentSession(t),alert("Session settings have been updated")}))},n.undoSettings=function(){f.undoSessionSettings(n.props.session.id,(function(t){n.props.setCurrentSession(t),alert("Session settings have been rolled back")}))},n.state={},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;f.getSessionSettings((function(e){return t.props.setCurrentSession(e)}))}},{key:"render",value:function(){return L.a.isEmpty(this.props.session)?null:s.a.createElement("div",{style:{padding:20}},s.a.createElement(_t,{settings:this.props.session.settings,params:this.props.session.params,paramGroups:this.props.session.paramGroups,onSettingChangeType:"CHANGE_SESSION_SETTINGS",submitSettings:this.submitSettings,undoSettings:this.undoSettings}),s.a.createElement(B.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips}))}}]),e}(a.Component),Dt=Object(g.b)((function(t){return{session:t.session}}),(function(t){return{setCurrentSession:function(e){return t(h(e))}}}))(xt),Lt=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).submitSettings=function(t){n.props.informLoadingPlot(Object(m.a)({id:n.props.active.plot.id},n.props.active.plot,{struct:{name:n.props.active.plot.struct}})),f.updatePlotSettings(n.props.active.plot.id,t,(function(t){n.props.addPlots(Object(x.a)({},t.id,t)),n.props.active.plot.id==t.id&&n.props.setActivePlot(t),n.props.informLoadedPlot(t.id),document.dispatchEvent(new Event("newPlot"))}))},n.undoSettings=function(){f.undoPlotSettings(n.props.active.plot.id,(function(t){n.props.addPlots(Object(x.a)({},t.id,t)),n.props.active.plot.id==t.id&&n.props.setActivePlot(t)}))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;f.getSessionSettings((function(e){return t.props.setCurrentSession(e)}))}},{key:"render",value:function(){if(!this.props.active.plot)return null;var t=s.a.createElement(_t,{settings:this.props.active.plot.settings,params:this.props.active.plot.params,paramGroups:this.props.active.plot.paramGroups,onSettingChangeType:"CHANGE_PLOT_SETTINGS",submitSettings:this.submitSettings,undoSettings:this.undoSettings});return s.a.createElement("div",null,s.a.createElement(d.Row,null,s.a.createElement(d.Col,{className:"s12 l4"},s.a.createElement(q,{plot:this.props.active.plot,plotStyle:{height:"75vh"}})),s.a.createElement(d.Col,{className:"s12 l8"},"infinity"==this.props.browser.mediaType?s.a.createElement("div",{className:"scrollView",style:{maxHeight:"90vh"}},t):t)),s.a.createElement(B.a,{multiline:!0,disable:!!this.props.session.settings&&!this.props.session.settings.showTooltips}))}}]),e}(a.Component),Rt={setCurrentSession:h,addPlots:v,setActivePlot:S,setNewStructures:b,informLoadedPlot:T,informLoadingPlot:j},Bt=Object(g.b)((function(t){return{plots:t.plots,structures:t.structures,active:t.active,session:t.session,browser:t.browser}}),Rt)(Lt);function Ut(){return s.a.createElement(w.d,null,s.a.createElement(N,{path:"/plots",exact:!0,component:Tt}),s.a.createElement(N,{path:"/settings",component:Dt}),s.a.createElement(N,{path:"/plotTweaking",component:Bt}),s.a.createElement(N,{component:Tt}))}var Vt=n(220),Gt=n(150),Ht=n.n(Gt),Ft=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).getLoadingTime=function(t){return Ht()(Ht()().diff(t)).format("mm:ss")},n.state={time:Date.now()},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval((function(){return t.setState({time:Date.now()})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var t=this,e=this.props.info.name||this.props.info.struct.name?[this.props.info.struct.name.replace(".fdf",""),this.props.info.plotClass].join(" "):"No name",n=this.getLoadingTime(this.props.info.from);return s.a.createElement("div",{className:"loadingChip"},s.a.createElement("span",{style:{paddingRight:10}},e),s.a.createElement("span",null,n),s.a.createElement("span",{className:"removeTabBut",onClick:function(){return t.props.informLoadedPlot(t.props.info.id)}},"X"))}}]),e}(a.Component),zt={informLoadedPlot:T},qt=Object(g.b)(null,zt)(Ft),Wt=function(t){function e(){return Object(r.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"loadingTracker"},Object.values(this.props.loading.plots).map((function(t){return s.a.createElement(qt,{info:t})})))}}]),e}(a.Component),Jt=Object(g.b)((function(t){return{loading:t.loading}}),null)(Wt),Xt=function(){var t=Object(et.c)(bt,nt.b);return{store:t,persistor:Object(ht.b)(t)}}(),Mt=Xt.store,Qt=Xt.persistor;var Kt=function(){return s.a.createElement(g.a,{store:Mt},s.a.createElement(Vt.a,{persistor:Qt},s.a.createElement("div",{className:"App",style:{display:"flex",flexDirection:"column"}},s.a.createElement(P,null),s.a.createElement("div",{className:"appContent",style:{flex:1}},s.a.createElement(w.c,{history:I},s.a.createElement(Jt,null),s.a.createElement(Ut,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(Kt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[222,1,2]]]);
//# sourceMappingURL=main.e6e5c3cc.chunk.js.map